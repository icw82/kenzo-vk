Kenzo VK
==========================

Дополнительные функции для вКонтакта.

#### [Ящик для жалоб и предложений](http://vk.com/kenzovk)
#### [Часто задаваемые вопросы](docs/faq.md)
#### [История изменений (changelog)](docs/CHANGELOG.md)

### Кратко
* Скачивает аудиозаписи;
* Показывает битрейт аудиозаписей и определяет VBR;
* Скробблит прослушиваемые аудиозаписи ([last.fm](http://last.fm));
* Скрывает навязчивые блоки: рекламу, предложение друзей, приложений и пр.


### Развёрнуто
<!-- (v4) -->
* Имеется страница настроек, где можно отрегулировать практически любой функционал расширения.

##### Общее для Audio и Video
* Скачивание аудио:
  * По нажатию на кнопку, элемент отправляется в очередь загрузок, из которой он попадает
    в стандартный загрузчик браузера;
  * Через контекстное меню можно взаимодействовать с прямой ссылкой на аудиозапись.
    Для этого нужно нажать на кнопку с битрейтом (или форматом) правой кнопкой
    мыши и выбрать соответствующую команду (например, «Копировать адрес ссылки» или «сохранять
    ссылку как…»;
<!--  * на кнопках работает drag'n'drop, можно скачивать, перетаскивая ссылку в нужное место;-->
* Процесс скачивания отображается встроенным в кнопку прогресс-баром;
* Скачивание можно отменить, повторно нажав на кнопку.
* Фильтр названий для сохранения и передачи:
  * Три и более точек заменяются на многоточие (…), а две точки сокращаются до одной;
  * Cимволы `\`, `/`, `*`, `?`, `<`,
    `>`, `:`, `~`, и `|` в названиях файлов заменяются на пробелы;
  * Пробелы, если они расположены друг за другом, сокращаются до одного;
  * Удаляются пробелы в начале и конце названия, а также перед точками;
  * Удаляются квадратные и фигурные скобки вместе с содержимым.

##### Audio (аудио)
* На кнопке отображается битрейт аудиозаписи;
* Если аудиозапись имеет переменный битрейт, на кнопке будет написано «VBR»;
* Информация об аудиозаписях кэшируется, что ускоряет дальшейшую работу с ними;
* Если аудиозапись не доступна (например, удалена по просьбе правообладателя),
  на кнопке будет написано `×_×`.
* В настройках можно выбрать разделитель (тире `—`, среднее тире `–` или дефис `-`) в названии
  скачиваемой аудиозаписи;
* Aтрибут title кнопки содержит информацию о размере файла. _Чтобы увидеть размер файла,
  нужно навести курсор на кнопку_;

<!--##### Video (видео)
* На кнопке отображается формат видеозаписи;
* Отредактирована оригинальная вёрстка видеозаписи. Теперь длинные названия не обрезаются,
  а переносятся на следующую строку. Увеличены отступы.
* В названии скачиваемого файла перед расширением пишется формат. _Например: Название
  ролика.720.mp4_-->

##### Scrobbler (Скробблер)
* Аудиозаписи длительностью менее 30 секунд не скробблятся;
* Скробблинг происходит по внутреннему таймеру, а не по таймеру плеера. То есть перемотка,
  пауза и переключения треков не влияют на учёт времени воспроизведения — если начать слушать
  сначала, прослушать 10 секунд, перемотать в середину и прослушать ещё 10, то внутренний таймер
  насчитает 20 секунд;
* Если аудиозапись не активна более 5-ти минут (стоит на паузе или играет другая запись),
  внутренний таймер обнуляется и отсчёт начнётся снова;
* Если перемотать заскроббленую аудиозапись назад на 1 и более секунд, то скробблинг начнётся снова;
* Учитывается зацикливание одной аудиозаписи и каждая итерация будет заскробблена.

##### Trash (мусор)
Несчадно выпиливаются:
* Реклама в сайдбаре слева;
* Блок с предложениями друзей;
* Блок «Рекомендуемые сообщества»;
* «Продвигаемые посты» в новостной ленте;
* Заполненность профиля;
* Большая кнопка ♥ на изображениях;
* Репосты пользователей и групп (выключено по умолчанию).

##### UI (Дополнения интерфейса)
* Цифровые идентификаторы пользователей в заголовках страниц (над заголовком);
* Делает аватары менее круглыми.

##### Чего никогда не будет в этом расширении:
* Скинов и тем для вконтактика;
* Слежки за пользователями.

#### Использование кода расширения
Данное расширение поддерживается и совершенствуется до тех пор,
пока автор сам пользуется этим расширением и социальной сетью «вКонтакте».

Вы можете использовать код или часть кода данного расширения
в своих продуктах только при условии указания авторства:
```
// Author: icw82, http://icw82.ru, http://github.com/icw82
```
<!-- Спасибо, что не пидарасы. -->
